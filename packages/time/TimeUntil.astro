---
export interface Props {
    datetime: Date | string;
    micro?: boolean;
}

const {
  datetime,
  micro,
  ...attrs
} = Astro.props

const calc_attrs = {
    format: micro?"micro":null,
    ...attrs
}
---

<script>
  import { TimeUntilElement } from '@github/time-elements'
  window.customElements.define('time-until', TimeUntilElement);
</script>

<time-until
  datetime={(datetime instanceof Date)?datetime.toISOString():datetime}
  {...calc_attrs}
>
  <slot />
</time-until>